<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telos</title>

    <link href="https://fonts.googleapis.com/css2?family=Smooch+Sans:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="page9.css">
</head>

<body>
    <div class="back-button">
        <a href="index.html">Back to Start</a>
    </div>

    <div class="hamburger-menu">
        <button><span class="fa fa-bars"></span></button>
    </div>

    <div class="menu1">
        <button class="close-menu">&times;</button>
        <a id="runaway" href="page10.html">Next Page</a>
    </div>

    <div class="center-text">
        <p>The Final Challenge.
            <br>Good luck.<br>You've made it this far.<br>Don't slip up now.
        </p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hamburgerButton = document.querySelector('.hamburger-menu button');
            const closeButton = document.querySelector('.close-menu');
            const menu1 = document.querySelector('.menu1');

            hamburgerButton.addEventListener('click', () => {
                menu1.classList.add('menu-deployed');
            });

            closeButton.addEventListener('click', () => {
                menu1.classList.remove('menu-deployed');
            });

            // === RUNAWAY LINK SCRIPT ===
            const runaway = document.getElementById('runaway');
            runaway.style.position = 'absolute';
            runaway.style.left = Math.random() * (window.innerWidth - runaway.offsetWidth) + 'px';
            runaway.style.top = Math.random() * (window.innerHeight - runaway.offsetHeight) + 'px';
            runaway.style.transition = 'left 0.1s, top 0.1s, transform 0.2s, scale 0.2s';

            document.addEventListener('mousemove', e => {
                const offset = 140; // distance to trigger move
                const rect = runaway.getBoundingClientRect();
                const linkX = rect.left + rect.width / 2;
                const linkY = rect.top + rect.height / 2;

                const dx = linkX - e.clientX;
                const dy = linkY - e.clientY;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < offset) {
                    let moveX = dx / distance * offset * (0.5 + Math.random());
                    let moveY = dy / distance * offset * (0.5 + Math.random());

                    let newX = rect.left + moveX;
                    let newY = rect.top + moveY;

                    // keep inside viewport
                    newX = Math.max(0, Math.min(window.innerWidth - rect.width, newX));
                    newY = Math.max(0, Math.min(window.innerHeight - rect.height, newY));

                    runaway.style.left = newX + 'px';
                    runaway.style.top = newY + 'px';

                    // random rotation and scale
                    runaway.style.transform = `rotate(${(Math.random() - 0.5) * 40}deg) scale(${0.8 + Math.random() * 0.4})`;
                }
            });

            // Random teleport every 2 seconds
            setInterval(() => {
                runaway.style.left = Math.random() * (window.innerWidth - runaway.offsetWidth) + 'px';
                runaway.style.top = Math.random() * (window.innerHeight - runaway.offsetHeight) + 'px';
                runaway.style.transform = `rotate(${(Math.random() - 0.5) * 50}deg) scale(${0.8 + Math.random() * 0.4})`;
            }, 2000);
        });
    </script>
</body>

</html>